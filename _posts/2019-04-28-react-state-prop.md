---
layout: post
title: state와 prop (+ Redux활용)
tags:
 - react
categories: React
---

## 소개
state와 prop의 차이점에 대해서 알아봅시다.

## state와 prop의 구분
React에서는 state와 prop을 구분합니다. 얼핏 보면 두 개가 비슷해 보이지만 사용 방법이 다릅니다. 간단하게 구분하면, state는 독립적인 컴포넌트의 상태고, prop은 외부(부모) 컴포넌트에게 받은 속성입니다. Redux 프로젝트에서 prop는 애플리케이션에서 전역으로 관리하는 상태라고 생각하면 됩니다.

영역을 강조하는 것은 부모 컴포넌트나 애플리케이션에서 알아야 하는 부분은 아닙니다. 그냥 클릭된 컴포넌트 자신의 스타일 변경에 해당하는 부분이기 때문에 다음 예와 같이 setState() 메서드로 state를 변경합니다. setState() 메서드를 호출하면 자신의 컴포넌트의 render() 메서드가 호출돼 해당 컴포넌트의 state만 갱신합니다.

또한 prop은 state와 다르게 컨테이너 컴포넌트에서 연결해 사용합니다. 그래서 컨테이너 컴포넌트에서 프레젠테이션 컴포넌트로 state와 dispatch() 메서드를 전달해야 합니다. 이때 사용하는 메서드가 react-redux에서 제공하는 connect() 메서드입니다.

## props
props는 컴포넌트에서 사용할 데이터 중 변경되지 않는 데이터를 다룰때 사용합니다. 부모 컴포넌트에서 자식 컴포넌트로 데이터를 전달할 때 사용됩니다. props는 변경이 불가능합니다.

props는 컴포넌트의 mounting, updating 프로세스 시점에 값이 할당될 뿐 컴포넌트 내부에서 값을 변경할 수 없습니다. 컴포넌트 간에는 무조건 props를 통해서만 데이터를 주고받고 props는 컴포넌트 내부에서 변경되지 않습니다. 따라서 위/아래 양쪽에 대해 동시에 고민할 필요가 없고 아래 한쪽 방향(uni-directional) 그리고 자기 자신에 대해서만 고민하면 됩니다.

## state
컴포넌트에서 관리하는 상태 값으로 유동적인 데이터를 다룰 때, state 를 사용합니다. state는 변경이 가능하고 변경할 때는 setState메서드를 사용해 상태를 변경합니다. setState는 비동기로 동작하며 동작완료에 대한 콜백을 설정할 수 있습니다. 상황에 따라 변경되어야 하는 값들은 state를 이용해야 합니다. 
 

## 정리
컴포넌트에서 필요한 값이 props인지 state인지 판단하고 어느 Lifecycle과 관련이 있는지 이 값을 어떤 컴포넌트에 어떻게 넘겨줄지만 생각하여 코드를 작성하면 컴포넌트를 완성할 수 있습니다.




----
해당 내용은 다음 글을 참고 하였습니다.
- https://d2.naver.com/helloworld/1848131