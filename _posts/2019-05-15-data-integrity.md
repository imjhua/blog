---
layout: post
title: 데이터 무결성(Data Integrity)
tags:
 -  data-integrity
categories: DB
---

## 소개
무결성이란 데이터베이스에서 저장된 값들에 대하여 여러가지 제한을 통하여 `데이터에 대한 신뢰를 보장`하게 하여 일관성을 유지시켜주는 것입니다. 즉, 데이터베이스에 저장된 데이터 값과 그것이 표현하는 현실 세계의 실제값이 일치하는 정확성을 의미합니다.



## 데이터 무결성
데이터의 무결성은 데이터의 정확성, 일관성, 유효성이 유지되는 것을 말한다. 데이터의 무결성을 유지하는 것은 데이터베이스 관리시스템 (DBMS)의 중요한 기능이며, 주로 데이터에 적용되는 연산에 제한을 두어 데이터의 무결성을 유지합니다. 데이터베이스에서 말하는 무결성에는 다음과 같은 3가지 종류가 있습니다.

- 개체 무결성 (Entity integrity)
- 참조 무결성(Referential Integrity)
- 영역 무결성(Domain Integrity)


### 개체 무결성 (Entity integrity)
모든 테이블이 기본 키 (primary key)로 선택된 필드 (column)를 가져야 합니다. 기본 키로 선택된 필드는 고유한 값을 가져야 하며, 빈 값은 허용하지 않습니다.

- 테이블에 있는 모든 행들이 유일한 식별자를 가져야 한다.

### 참조 무결성(Referential Integrity)
관계형 데이터베이스 모델에서 참조 무결성은 참조 관계에 있는 두 테이블의 데이터가 항상 일관된 값을 갖도록 유지되는 것을 말합니다. 참조 무결성이란 관련된 테이블의 레코드 간의 관계를 유효하게 하는 규칙으로, 사용자의 실수로 관련 데이터가 삭제되거나 수정되는 것을 막아줍니다. 참조 무결성을 설정할 수 있는 조건은 기본 테이블에서 일치하는 필드가 '기본 키'이거나, 고유 인덱스를 갖고 있거나, 관련 필드의 데이터 형식이 같아야 합니다. 더 이상 존재하지 않는 데이터를 참조하면 안됩니다.

- 기본 키와 참조 키 간의 관계가 항상 유지됨을 보장
- 참조되는 테이블의 행을 이를 참조하는 참조키가 존재하는 한 삭제될 수 없고, 기본키도 변경될 수 없다.


#### 참조 무결성의 설정 조건
1) 기본 테이블에서 사용한 필드는 기본키이거나 고유 인덱스가 설정되어 있어야 합니다.
2) 기본 테이블과 관계 테이블 둘 다 액세스 테이블이어야 합니다.
3) 관계를 설정하는 테이블은 형식이 같아야 합니다.


### 영역 무결성(Domain Integrity)
도메인 무결성은 테이블에 존재하는 필드의 무결성을 보장하기 위한 것으로 필드의 타입, NULL값의 허용 등에 대한 사항을 정의하고, 올바른 데이터의 입력 되었는지를 확인하는 것입니다. 예를 들어, 주민등록번호 필드에 알파벳이 입력되는 경우는 도메인 무결성이 깨지는 경우라고 볼 수 있습니다. DBMS의 기본값 설정, NOT NULL 옵션 등의 제약 사항으로 도메인 무결성을 보장할 수 있다.

- 한 컬럼에 대해 NULL의 허용 여부와 타당한 데이터 값들을 지정한다.
- 자료형(Data type), 규칙과 제약(Rules), 값 범위 등을 제한한다.

## 정리

- 무결성 제약조건: 데이터베이스에 들어있는 데이터의 정확성(일관성)을 보장하기 위해 부정확한 자료가 데이터베이스 내에 저장되는 것을 방지하기 위한 제약 조건을 의미함
- 개체 무결성: 릴레이션에서 기본키를 구성하는 속성은 Null값이나 중복값을 가질 수 없다.
- 참조 무결성: 외래키 값은 Null이거나 참조 릴레이션의 기본키 값과 동일해야 한다. 즉 릴레이션은 참조할 수 없는 외래키 값을 가질 수 없다. 외래키와 참조하려는 테이블의 기본키는 도메인과 속성 개수가 같아야 한다.

----
해당 내용은 다음 글을 참고 하였습니다.
- https://untitledtblog.tistory.com/123