---
layout: post
title: 트레일링 슬래시(trailing slash)
categories: Programming
---

트레일링 슬래시를 아시나요? URL의 끝에 붙이는 슬래시(/)를 트레일링 슬래시(trailing slash)라고 합니다.

## 트레일링 슬래시

URL 끝에 슬래시(/)를 붙이는 것은 해당 URL리소스가 디렉토리(directory)라는 것을 의미 합니다. 반대로 슬래시가 붙지 않는다면? 이것은 파일(file)을 의미 하는 것이지요.

### URL 스펙 (Spec)

트레일링스펙을 알아보기전 URL의 구성을 알아봅니다. URL스펙은 다음과 같이 구성됩니다.

- scheme
- host
- port
- path
- query
- fragment

여기서 우리가 흔히 접하는 도메인은 host를 가리키고 하위 경로를 path라고 합니다. path가 다르면 우리는 다른 URL이라고 하지요.

### 웹 크롤러 입장에서는..

월드 와이드 웹을 탐색하는 컴퓨터 프로그램인 웹 크롤러 입장에서는 슬래시가 있는 것과 없는 것은 엄연히 다른 URL주소입니다. (URL스펙에 따라서)

참고) 크롤링crawling: 검색 엔진과 같은 여러 사이트에서는 데이터의 최신 상태 유지를 위해 웹 크롤링한다.

### / 가 있고 없고

웹 크롤러가 다르게 인식하는 것 처럼, /가 있고 없고는 분명 다른 URL 입니다. 그러나 우리는 URL을 검색할 때, 보통 슬래시를 신경쓰지 않습니다. 슬래시가 있고 없고? 의 차이를 거의 느끼지 못한 채로 페이지를 열었던 것이지요. 이유는, 브라우저가 알아서 리디렉션 해주고 웹서버는 알아서 디렉토리 혹은 파일을 찾아 서빙하고 있기 때문입니다. 그러하기 때문에 웹 크롤러던, 우리던, 리소스가 실제로 파일이든 디렉토리든 크게 신경 쓰지 않고 신경쓰지 않아도 되는 것입니다.

마찬가지로 마케팅적인 측면에서도 트레일링 슬래시(/가 붙는 URL)은 주소가 지저분해보일 수 있기 때문에 보통은 생략하지요.

## URL에서의 /에 의한 웹서버 동작

요청 URL에 트레일링 슬래시가 있고 없고의 차이가 있을까요? 당연히 있습니다! 웹서버에서의 동작이 다르거든요. 물론 추가 작업이 있고 없고의 차이이긴 합니다.

### 트레일링 슬래시가 없는 URL

트레일링 슬래시가 없는 URL을 요청할때, 서버는 리소스를 우선 파일로 간주 합니다. 파일이 존재하는지 확인 후 해당이름의 디렉토리를 확인합니다. 디렉토리가 있으면 그 안의 기본 파일(기본값 index.html)을 확인 하게 됩니다.

### 트레일링 슬래시가 있는 URL

트레일링 슬래시가 있는 URL을 요청하는 경우 서버는 파일을 먼저 확인하지 않고 디렉토리를 바로 확인하게 됩니다. 그리고 디렉토리가 있으면 그 안의 기본 파일(기본값 index.html)을 확인 하게 됩니다.

### 결론

디렉토리 리소스를 요청하는 경우 트레일링 슬래시를 명시한다면, 파일을 확인하는 동작을 생략할 수 있으므로 응답속도가 좋아집니다.

## 도메인 끝에 붙는 슬래시 /

URL 스펙에 따르면 슬래시 /는 path의 구분입니다. 즉, /가 없다면 도메인(네임호스트)만 요청한 것이고, /가 있다면 리소스 경로를 추가로 명시하여 요청하게 되는 것입니다.

도메인 끝에 붙은 트레일링 슬래시는, 리소스의 구분(file 또는 dir)이라기 보다는 리소스 경로를 의미하는 것이 됩니다.

### 브라우저에서의 동작

끝에 슬래시가 없는 웹사이트 메인 주소를 클릭하거나, 복사해서 웹 브라우저 주소창에 입력해서 웹사이트에 들어가 보면 맨 끝에 이것이 어느새 알아서 붙어있습니다. 이는 브라우저에서 경우에 따라 트레일링 슬래시가 있는 URL로 리디렉션 하기 때문입니다.

이또한 마찬가지로 브라우저가 한가지 일을 더 하기 때문에 (사소하지만) 응답속도 측면에서 차이가 있게 되지요.

### 파일리소스에 트레일링 슬래시를 붙이는 경우

파일 리소스에 트레일링 슬래시를 붙일 경우, 서버는 이를 디렉토리 리소스로 인식하므로 파일리소스가 아닌 디렉토리를 먼저 확인합니다. 그런데 이때는 대부분의 서버가 디렉토리가 없으면 동명의 파일을 확인한다는 식의 동작을 고려하지 않아 리소스를 찾을 수 없음! 이라는 404 에러 페이지를 보게 될 것입니다.

## 정리

- 트레일링 슬래시(trailing slash): URL리소스가 디렉토리임을 나타냄.
- 디렉토리 리소스를 요청하는 경우 트레일링 슬래시를 적요하면 응답속도측면의 장점이 있음.
- 도메인 끝에 붙은 트레일링 슬래시는, 리소스의 구분(file 또는 dir)이라기 보다는 리소스 경로를 의미한다.

---

해당 내용은 다음 글을 참고 하였습니다.

- https://djkeh.github.io/articles/Why-do-we-put-slash-at-the-end-of-URL-kor/
