---
layout: post
title: 람다, 익명함수, 클로저
categories: Programming
---

람다, 익명함수, 클로저에 대해 상세하게 알아봅시다.

## 람다

람다식은 수학자 알론조(Alonzo Church)가 발표한 람다 계산법에서 사용된 식으로, 이를 제자 존 매카시(John Macarthy)가 프로그래밍 언어에 도입하였습니다. 람다식, 또는 람다 함수는 프로그래밍 언어에서 사용되는 개념으로 익명 함수(Anonymous functions)를 지칭하는 용어입니다. 익명함수(anonymouse function)을 생성하기 위한 식으로 객체 지향 언어보다는 함수 지향 언어에 가깝습니다. 형태는 매개변수를 가진 코드 블록이지만, 런타임 시에는 익명 구현 객체(추상메소드를 한개 포함한)를 생성합니다. (람다식 -> 매개 변수를 가진 코드 블록 -> 익명 구현 객체) 이때 함수는 순수 함수로 작성되어야 하며 순수함수란 함수의 실행이 외부에 영향을 끼치지 않는 함수를 뜻한다. 따라서 순수한 함수는 스레드 안전하고, 병렬적인 계산이 가능합니다.

람다식을 사용하면, 필요한 정보만을 사용하는 방식을 통한 퍼포먼스 향상됩니다. 스트리밍을 통해 지연 연산을 지원하는 방식(커링)을 통하여 효율적인 퍼포먼스를 기대할 수 있으며 이 경우 메모리 상의 효율성 및 불필요한 연산의 배제가 가능하다는 장점이 있습니다. 단점으로는 어떤 방법으로 작성해도 모든 원소를 전부 순회하는 경우는 람다식이 조금 느릴 수 밖에 없습니다. 익명함수로 작성되지 때문에 이의 특성상으로 함수 외부의 캡처를 위해 캡처를 하는 시간제약 논리제약적인 요소도 고려해야 하며, 디버깅 시 함수 콜스택 추적이 극도로 어렵습니. 람다식을 너무 남발하여 사용하게되면 오히려 코드를 이해하기 어려울 수 있습니다. 또한 람다문법은 모든 언어에서 제공되지는 않기 때문에 항상 사용할 수 없습니다.

## 익명 함수(Anonymous function)

익명 함수는 람다 대수로부터 영향을 받아 만들어진 프로그래밍에서 함수를 표현하는 방식의 일종입니다. 각 언어별로 익명 함수를 표현하는 법은 제각기 다르지만, 공통적으로 가지는 특징 으로는 바로 일급 객체(First-class citizen) 라는 점 입니다.

일급 객체는 함수의 인자로 넘겨받을 수도 있으며, 함수의 결과값으로 리턴할 수도 있고, 변수에 값을 할당할 수도 있다는 것을 말합니다. 프로그래밍 언어에서 익명 함수는 애초에 다른 함수에 인자로 넘기거나 함수의 결과 값으로 리턴할 용도(이를테면 map()에 인자로 넘긴다던지, 클로저를 리턴한다던지)로 만들어지기 때문에 이런 특징을 갖게 되는 것입니다. 또한 함수가 일급 객체가 되면 추가적인 조건이 부합되어 일급 함수(First-class function) 라고 부를 수 있습니다.

### 일급객체 와 일급함수

다음 조건을 만족하면 일급 객체의 조건을 만족 할 수 있습니다.

- 변수(variable)나 데이터 구조에 담을 수 있다. (할당)
- 인자(parameter)로 전달할 수 있다.
- 반환값(return value)으로 전달할 수 있다.

다음을 추가로 만족하면 일급 함수가 됩니다.

- 런타임(runtime) 생성이 가능하다.
- 익명(anonymous)으로 생성이 가능하다.

변수나 데이터 구조 안에 담을 수 있으며 인자로 전달 할 수 있고 반환값으로도 사용할수 있으며 런타임에 생성 가능 하다면 함수는 일급 객체 이면서 동시에 일급 함수가 됩니다.

자바스크립트에서 함수가 일급객체 인것이 중요한 이유는 고차 함수(Higher-Order Function: HOF)가 가능하다는 것 입니다. 고차 함수는 함수를 인자로 받거나 결과로 반환하는 함수로서 이같은 조건에 부합하려면 무조건 일급 객체여야만 합니다. 함수를 인자로 받는 것을 흔히 콜백(callback)이라고 하며 이를 통해 되돌려지기가 가능하게 됩니다. 즉, 함수의 흐름을 제어 하는 등 비동기적인 실행 맥락을 처리 할 때 유용합니다. 여러 함수들이 반복적으로 가지고 있는 기능들을 고차 함수에 정의해 두고, 나머지 디테일한 기능은 인자로 넣는 콜백함수를 통해 중복되는 부분을 줄이면서 가독성을 높일 수 있습니다. 함수를 반환하는 고차 힘수를 이용하면 필요할때 재활용 할 수 있는 함수를 만들 수 있습니다.

---

해당 내용은 다음 글을 참고 하였습니다.

- https://hyunseob.github.io/2016/09/17/lambda-anonymous-function-closure/
