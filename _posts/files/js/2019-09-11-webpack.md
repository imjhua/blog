---
layout: post
title: Webpack에 대해서 
categories: React
categories: JavaScript
---
Webpack 은 Package Bundler 이며, Gulp 는 Task Runner 이다. ... 그럼 Task Runner 와 Package Bundler 는 무슨 차이일까. Package Bundler ...



 Browsify, Grunt, Gulp 등의 도구들은 webpack과 무슨 차이가 있을까요?? webpack은 모든 리소스들(javascript, css, images, fonts, etc)에 대한 ...



 https://medium.com/@ehddnjs8989/webpack%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B4%85%EC%8B%9C%EB%8B%A4-c953181e79ad


 https://github.com/ipadorusa/sri-vuejs/wiki/Grunt-or-Gulp-vs-Webpack-%EC%9D%98-%EC%B0%A8%EC%9D%B4



 https://kdydesign.github.io/2017/07/27/webpack/



 Jake
Brunch
Grunt
Gulp
Webpack
Brocolli
Cha


엔트리/아웃풋/로더/플러그인


웹팩은 모든 파일을 모듈로 관리한다.

https://creatijin.tistory.com/210

웹팩 등장
 

http://jeonghwan-kim.github.io/js/2017/05/15/webpack.html

웹팩은 모든 것을 모듈로 다루기 때문에 CSS 파일을 자바스크립트로 변환해서 로딩해야 한다. css-loader가 그런 역할을 하는 로더이다.

자바스크립트 코드가 많아짐에 따라 관리의 한계, 코드 스코프 침범, 변수 충돌 위험성

모듈을 IIFE스타일로 변경해주는 과정, 하나의 파일로 묶음(bundled)로 비용감소


## 소개?
자바스크립트 코드가 많아지면 하나의 파일로 관리하는데 한계가 있다. 그렇다고 여러개 파일을 브라우져에서 로딩하는 것은 그만큼 네트웍 비용을 치뤄야하는 단점이 있다. 뿐만 아니라 각 파일은 서로의 스코프를 침범하지 않아야 하는데 잘못 작성할 경우 변수 충돌의 위험성도 있다.
웹팩은 모듈 번들러입니다. 모듈 번들러란 여러개의 나누어져 있는 파일들을 하나의 파일로 만들어주는 라이브러리를 말합니다.

## 배경

기존의 프론트엔드 자바스크립트는 특별히 모듈화나 디펜던시관리에 대한 방법이 없어 필요한 자바스크립트 파일을 정해진 순서에 맞게 직접 스크립트 태그로 로드하고 각각 약속된 네임스페이스에 담아 공유하였습니다. 옛날 자바스크립트는 모듈 개념이 없었기 때문에 파일이 나누어져 있어도 변수 스코프를 생각하면서 개발을 해야했습니다. 웹페이지에서는 페이지를 보여주기 위한 수 많은 자바스크립트 파일을 서버에 요청합니다. 이를 통해 웹페이지를 보여주기 위해 서버와 여러번 통신하게 되는게 비효율적이다 라고 볼 수 있습니다. 이런 방식은 프로젝트가 커질수록 그리고 참여 개발자가 많을수록 문제를 일으켰습니다.

* 문제점: 
- 서버요청 비효율적
- 스크립트가 이순서대로 진행됨 -> 이러한 순서를 신경 써야함.
- dependency가 꼬일 수있음
이를 해결하기위해 모듈의 개념이 등장하였습니다.

## 모듈의존성관리

자바스크립트 모듈화의 방법으로 AMD와 CommonJS가 있습니다. webpack은 두 그룹의 명세를 모두 지원하는 JavaScript 모듈화 도구입니다다. 큰 어려움없이 RequireJS나 Browserify에서 전환이 가능하다는 장점이 있습니다. 기본적으로 부분을 캐싱하여 변경점만 번들링하는 방식을 지원하는데, Watch모드의 캐싱으로 개발시 변환속도가 매우 빠릅니다.

```
monules with dependencies -> webpack(module bundler) -> static assets
```

## 모듈화
모듈이란 애플리케이션을 구성하는 개별적 요소를 말합니다. 일반적으로 파일 단위로 분리되어 있으며 필요에 따라 애플리케이션은 명시적으로 모듈을 로드합니다. 모듈은 애플리케이션에 분리되어 개별적으로 존재하다가 애플리케이션의 로드에 의해 비로소 애플리케이션의 일원이 됩니다. 모듈은 기능별로 분리되어 작성되므로 개발효율성과 유지보수성의 향상을 기대할 수 있습니다. ES6문법이 나오기 전까지 자바스크립트 자체에는 모듈화 기능이 없습니다.

단, 아래와 같은 이유로 아직까지는 브라우저가 지원하는 ES6 모듈 기능보다는 Webpack 등의 모듈 번들러를 사용하는 것이 일반적입니다.

- IE를 포함한 구형 브라우저는 ES6 모듈을 지원하지 않는다.
- 브라우저의 ES6 모듈 기능을 사용하더라도 트랜스파일링이나 번들링이 필요하다.
- 아직 지원하지 않는 기능(Bare import 등)이 있다. (ECMAScript modules in browsers 참고)
- 점차 해결되고는 있지만 아직 몇가지 이슈가 있다. (ECMAScript modules in browsers 참고)

## 모듈번들러
모듈 번들러는 여러개의 자바스크립트 파일을 하나의 파일로 묶어서 한 번에 요청을 통해 가지고 올 수 있게 하고 최신 자바스크립트 문법을 브라우저에서 사용할 수 있게 해줍니다. 또한 모듈 번들러들은 자바스크립트 코드들을 압축하고 최적화 할 수 있기 때문에 로딩 속도를 높일 수 있습니다.

### 단점
수 많은 자바스크립트 파일이 하나의 파일로 묶인다면 초기 로딩 속도가 어마어마해 질 수 있습니다. 모듈 번들러들은 이런 문제를 해결하기 위해 청크, 캐시, 코드 스플릿 개념들을 도입하면서 문제들을 해결하고 있습니다.

## 기능

### 로더
webpack의 로더는 다양한 리소스를 JavaScript에서 바로 사용할 수 있는 형태로 로딩하는 기능입니다. 로더는 webpack의 특징적인 기능이면서 webpack을 강력한 도구로 만드는 기능입니다.

### ㅌㅌㅌ

## ??
### 자바스크립트와의 연동성
Karma(테스트 러너), Babel(트랜스파일)등 최신 자바스크립트 도구들과의 연동성이 좋습니다.

*  Karma는 테스트 러너일 뿐이므로 테스트 프레임워크는 따로 선택해서 사용해야 한다. 

### 
개발용 서버를 따로 구성할 필요 없이 바로 사용 가능한 webpack-dev-server가 있습니다.

### 개발자 도구 연동
webpack을 사용할 때 브라우저에서 실행되는 코드는 실제 작성한 코드가 아니라 webpack으로 컴파일된 코드다. 모듈 시스템 적용을 위한 부가적인 코드 외에는 작성할 때의 코드가 거의 그대로 컴파일된 코드에 반영돼기 때문에 디버깅하는 데 어려움은 없다. 하지만 컴파일 이후에는 엔트리 파일의 개수에 따라 하나나 여러 개의 파일로 모듈이 병합되기 때문에 코드를 작성할 때의 파일 구조를 파악해서 디버깅해야 할 때는 어려움이 있을 수 있다.

webpack의 소스 맵 설정을 사용하면 컴파일된 파일에서도 원래의 파일 구조를 확인할 수 있다. 설정 파일(webpack.config.js)에 다음과 같이 한 줄을 추가하고 컴파일한다.

module.exports = {  
    ... 
    devtool: '#inline-source-map'
}

## 결론
코드의 양이 많아지면 코드의 유지와 보수가 쉽도록 코드를 모듈로 나누어 관리하는 모듈 시스템이 필요해집니다. 그러나 JavaScript는 언어 자체가 지원하는 모듈 시스템이 없습니다. 이런 한계를 극복하려 여러 가지 도구를 활용하는데 그 도구 가운데 하나가 webpack입니다.

----
해당 내용은 다음 글을 참고 하였습니다.
- https://engineering.huiseoul.com/react-js-%EB%BD%80%EA%B0%9C%EA%B8%B0-hello-webpack-b27f720c1b78
- https://ui.toast.com/weekly-pick/ko_20160212/
- https://velog.io/@jeff0720/React-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%84-%EA%B5%AC%EC%B6%95%ED%95%98%EB%A9%B4%EC%84%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-Webpack-%EA%B8%B0%EC%B4%88
- https://poiemaweb.com/nodejs-npm