---
layout: post
title: React란 + 특징
categories: React
---


React는 Facebook에서 내부적으로 개발하여 2013년에 오픈소스로 런칭한 javascript 라이브러리입니다. Facebook은 자체적으로 XHP를 사용하는 등 PHP를 사용하여 개발을 했습니다. PHP의 장점이라면, 각각의 기능을 컴포넌트화 하여 코드의 가독성 및 재사용을 진작시킬 수 있지만, 요청을 하면 서버에서 코드를 받아와서 렌더링을 해줘야 하는 것들 때문에, 사용자 경험면에서는 부족한 면들이 생기게 되었습니다.

## javascript Framework의 발전
이러한 단점을 극복하고자, javascript는 DOM 객체 및 Ajax를 통한 데이터 통신 및 데이터 바인딩을 꾀할 수 있는 프레임워크들이 나오기 시작했습니다. 대표적인 예로 Angular js, Backbone js 등입니다. 즉, 하나의 페이지에서 리소스들을 다룰 수 있는 SPA(Single Page Application)이 인기를 얻으면서, javascript로의 어플리케이션 개발 기술들은 발전하게 됩니다.

이러한 javascript framework의 기본적인 개념은 data를 받아오고, 기존에 렌더링 되어있던 data들과의 비교를 통해서 전체 DOM 객체를 비동기적으로 갱신해 줌으로써 서버에서 직접 소스코드를 받아와 렌더링 해줌으로써 리프레시가 되는 부분들 없이, 사용자 경험적으로 좀더 좋은 UX를 제공해 줄 수 있게 되었습니다.

## React는 철저한 뷰 라이브러리(View Library)
React js는 기존의 javascript framework와 다르게, view에만 집중합니다. 즉, 라우팅부터 모델, 컨트롤러까지 Angular.js 및 Backbone.js에서는 MVC형태를 모두 갖추고 있는 MVC 및 MVVM framework라면, Facebook에서 만든 React는 철저하게 뷰단을 조작하는 라이브러리입니다. (따라서, React는 프레임 워크라기 보다 라이브러리의 성격이 강합니다.)

## React의 특징
리엑트는 컴포넌트 기반 아키텍처를 지향합니다. 템플릿언어가 아닌 자바스크립트로 컴포넌트 작성하여 특정 관심사에 집중할 수 있습니다. 관심사의 분리라고도 합니다. 

참고) 관점지향 프로그래밍(AOP-Aspect Oriented Programming): 모듈안에서의 공통 관심사, 즉 횡단관심사를 모듈화하는 방법을 제시하는 것으로 핵심 비지니스 로직과 공통 모듈(보안 인증, 로깅 같은 요소등)로 구분하고, 핵심 로직에 영향을 미치지 않고 사이사이에 공통 모듈을 효과적으로 잘 끼워넣도록 하는 개발 방법을 말합니다. 코드 밖에서 설정된다.

## 특징
- 컴포넌트 기반 아키텍처
- 관심사의 분리
- JSX
- Virtual DOM
- 단방향 데이터 흐름 지향

## 컴포넌트 기반 아키텍처
컴포넌트는 프로그래밍의 한 부분을 의미하며 재사용이 가능한 최소 단위를 뜻합니다. 현대의 웹은 크고 복잡합니다. 복잡한 문제(개발할 시스템)를 작게 나누어서 해결하기 위해 컴포넌트 기반으로 개발을 합니다. 컴포넌트 단위로 코드를 작성하면 캡슐화(테스트 가용성, 신뢰성), 확장성, 결합성, 재사용성 같은 이점이 있습니다.

## 관심사의 분리
관심사의 분리란, 프로그램이 각자의 관심사를 갖도록 여러 계층으로 나누는 설계 원칙을 말합니다. 관심사 분리는 추상화의 일종입니다. 대부분의 추상화에서처럼 인터페이스의 추가는 필수이며 실행에 쓰이는 더 순수한 코드가 있는 것이 일반적입니다. 그러므로 잘 분리된 관심사의 여러 장점에도 불구하고 관련 실행에 따른 불이익이 있기도 합니다.

웹 개발에서의 분리한다면, 관심사 보다는 기술적인 측면에서 마크업, 디자인, 로직을 분리하였다면 React의 웹 개발에서는 컴포넌트 형태로 관심사를 분리 합니다. 컴포넌트를 통한 관심사의 분리를 통해 하나의 컴포넌트는 마크업과 뷰의 로직을 함께 가지고 있고 컴포넌트를 통해 UI를 재사용 가능한 개별적인 여러 조각으로 나누고, 각 조각이 하는 역할에 집중합니다.


## JSX
JSX는 자바스크립트 확장문법으로 템플릿엔진이라 불리는 것과 유사한 방식의 표현식입니다.
간단히 말해, 자바스크립트 문법과 HTML 태그가 혼용되어 사용되는 방식입니다.

- HTML 친화적이라 어렵지 않게 작성할 수 있다.
- 마크업과 로직을 분리하지 않고 UI 작성이 가능하다.
- React 컴파일 과정에서 에러를 감지할 수 있다.
- JSX를 무조건 사용해야 하는것은 아니지만, React에서 사용하는 것을 권고하고 있으므로 사용하는것이 좋다.

## Virtual DOM
이전에 DOM을 제어하던 jQuery는 브라우저가 변화를 적용하기 위해 많은 연산이 필요하였습니다. jQuery를 사용하여 DOM을 업데이트 하는 경우 렌더 트리를 재생성하고 이 과정에서 모든 요소들의 스타일이 다시 계산되고, 레이아웃을 만들고 페인팅을 하는 과정이 반복되는데, 이는 DOM 조작이 많이 발생하게 되며 브라우저가 이러한 변화를 적용하기 위해 많은 연산을 해야하는 문제가 있었습니다.

### DOM 업데이트 순서
#### DOM Tree 생성
1) 브라우저의 렌더 엔진이 HTML 파싱후 DOM Tree 생성

#### Render Tree 생성
1) 노드 스타일 처리 과정 (attachment)
2) DOM 트리의 노드가 가진 attach 메서드를 통해 스타일 정보를 계산하고 객체 형태로 반환
3) DOM 트리에 새로운 노드가 추가되면 노드의 attach 메서드가 실행 됨
4) Render Tree 생성시에 각 요소의 스타일 처리과정이 포함되고 다른 요소들의 스타일 속성도 참조

#### Layout(reflow)
1) 스크린 좌표를 참조하여 표시 위치 결정

#### Painting
2) 렌더링된 요소에 색을 입히는 과정. 트리의 각 노드들을 거치면서 paint 메서드 호출


React는 DOM 조작 방식에 대한 문제를 Virtual DOM을 사용해 성능을 개선하였습니다. Vritual DOM은 새로운 개념이 아닙니다. DOM 트리의 변화를 감지하여 실제 변경이 일어난 부분에 대해 오프라인 DOM에 적용하고, 모든 연산이 끝나면 최종적으로 변경된 부분을 실제 DOM에 한번에 적용하는 것을 말합니다. 이를 재조정(Reconciliation)이라고 하며 사용되는 알고리즘을 Tree Diff 알고리즘이라 합니다.

## 단방향 데이터 흐름
React.js는 단방향 데이터 흐름을 지향합니다. 양방향 데이터 바인딩을 사용할 때처럼 작성할 코드의 양이 확연히 줄거나 하지는 않지만 애플리케이션의 데이터를 관리하는 모델 컴포넌트가 있고 그 데이터를 UI 컴포넌트에 전달하는 단순한 데이터 흐름으로 이해하고 관리하기 쉬운 애플리케이션을 만들 수 있습니다.

양방향 데이터 바인딩과 비교해보자면, 양방향 데이터 바인딩은 코드의 사용면에서 코드량을 크게 줄여주는 등의 장점이 있을 수 있겠지만, 자체 실행 코드 내에서 데이터의 변화를 감지하여 DOM 객체 전체를 렌더링 해주거나, 데이터를 바꿔주는 등의 실행으로 인하여 성능이 감소되는 경우가 생깁니다.(ionic을 사용해 보시면 성능에 관련된 부분이 좀더 민감하게 다가오실 수도 있습니다.) React는 이러한 양방향 바인딩이 아니기 때문에 실행부 자체 내에서 데이터의 변화를 감지하지 않으며, 데이터에 변화가 오게 되면, 특정 함수를 실행시킴으로써 DOM 객체를 갱신합니다. 따라서, 성능에 관련되어 데이터 변화에 따른 성능 저하 없이 DOM 객체를 갱신해 줄 수 있는 장점이 있습니다.

## 정리
React의 장점은 단방향 데이터흐름을 통해 데이터의 흐름을 쉽게 추적할 수 있다는 것입니다. DOM전체를 갱신해야 하는 문제를 VirtualDOM과 비교 알고리즘으로 해결하여 빠른 성능을 내는 것도 큰 장점이라고 생각합니다.

----
해당 내용은 다음 글을 참고 하였습니다.
- https://velog.io/@kyusung/React-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0
- https://lazydev.tistory.com/72 