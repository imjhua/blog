---
layout: post
title: 스케일 아웃(Scale-Out)과 스케일 업(Scale-Up)
categories: Programming
---

서버를 운영하다 보면, 갑작스런 이용자의 증가, 사업 확장 등의 이유로 더 많은 서버 용량과 성능이 필요하게 됩니다. 서버 확장을 위한 두 가지 방법을호 스케일 아웃(Scale-Out)과 스케일 업(Scale-Up)이 존재 하는데 이 두가지 방법으로 시스템을 확장 시킬수 있습니다.


## 스케일 아웃(Scale-Out)
스케일 아웃이란 서버를 여러 대 추가하여 시스템을 확장하는 방법입니다. 접속된 서버의 대수를 늘려 처리 능력을 향상시키는 것이입니다. 수평 스케일로 불리기도 합니다. 서버의 가상화 기능을 사용하고 하나의 케이스 내에서 가상적으로 복수 서버를 구축해 스케일 아웃과 동등의 효과를 제공할 수도 있으며 이러한 방식을 특히 스케일 위드인 또는 가상 스케일 아웃 등으로 부르기도 합니다. 서버가 여러 대가 되기 때문에 각 서버에 걸리는 부하를 균등하게 해주는 '로드밸런싱'이 필수적으로 동반되어야 합니다. 스케일 아웃의 경우, 서버 한 대가 장애로 다운되더라도 다른 서버로 서비스 제공이 가능하다는 장점이 있습니다. 반면 개개의 처리는 비교적 단순하지만 다수의 처리를 동시에 병행적으로 실시하지 않으면 안되는 경우에 적합한데 갱신 데이터의 정합성(데이터가 서로 모순 없이 일관되게 일치해야 하는 경우) 유지에 대한 요건이 별로 어렵지 않은 경우에 적절합니다. 따라서 서버가 동일한 데이터를 가지고 있어야 하므로, 데이터 변화가 적은 웹 서버, 데이터가 읽기 전용인 검색엔진 데이터 분석 처리 VOD(주문형 비디오) 일부의 과학기술 계산, 메일 서버나 게시판 등의 어플리케이션 등에 적합한 방식입니다. 

## 스케일 업(Scale-Up)
스케일 업은 서버에 CPU나 RAM 등을 추가하거나 고성능의 부품, 서버로 교환하는 방법을 의미합니다. 서버 그 자체를 증강하는 것에 의해서 처리 능력을 향상시키는 것입니다. 수직 스케일로 불리기도 합니다. 전형적으로는 SMP(대칭형 멀티 프로세서)에 대해 프로세서를 추가하는 것이나 프로세서 그 자체를 고성능 모델로 옮겨놓는 것을 가리킵니다. CPU나 RAM을 추가하기로 했다면 현재 서버에 추가 부품을 장착할 수 있는 여유 슬롯이 있어야 하며, 그렇지 않은 경우 서버 자체를 고성능으로 교체하는 것이 필요합니다. 스케일 업의 경우, 서버 한 대에 모든 부하가 집중되므로 장애 시 영향을 크게 받을 수 있는 위험성이 있습니다. 어플리케이션 서버에서는 스케일 아웃이 가능해도 빈번히 갱신이 발생하여 정합성(데이터가 서로 모순 없이 일관되게 일치해야 하는 경우) 유지가 어려운 데이터베이스 서버에서는 스케일 업이 필요합니다. 즉 하나의 이미지 데이타베이스에 대해서 빈번히 갱신이 발생하는, 이른바 OLTP(온라인 트랜잭션 처리)에는 스케일 업이 적합합니다. 따라서 한 대의 서버에서 모든 데이터를 처리하므로 데이터 갱신이 빈번하게 일어나는 데이터베이스 서버에 적합한 방식입니다. 단점으로는 데이터베이스에 스케일 업을 하는 경우, 관계를 가지는 테이블들이 수평적으로 더 커지게 되고 그렇게 되면 기존에 사용하던 데이터베이스 시스템보다 고성능의 데이터베이스 시스템이 필요할 수 있고 이는 굉장히 덩치가 큰 데이터베이스 시스템이 되므로 관리가 어려워질 수 있습니다.


## 스케일 아웃(Scale out)과 스케일 업(Scale up) 비교

|..............| 스케일 아웃(Scale out) | 스케일 업(Scale up) | 
|--------------|---------------------|-------------------| 
| 정의 | 서버 대수를 늘려 시스템 확장 | 서버의 성능을 늘려 시스템 확장 | 
| 확장성 | 하나의 장비에서 처리하던 일을 여러 장비에 나눠서 처리할 수 있도록 설계를 변경하는 것. 수평 확장. 지속적 확장이 가능 |  빠른 속도의 CPU로 변경하거나, 더 많은 RAM을 추가하는 등의 하드웨어 장비의 성능을 높이는 것. 수직 확장. 성능 확장에 한계가 있음 | 
| 서버 비용 | 비교적 저렴한 서버를 사용하므로 일반적으로 비용 부담이 적음 | 성능 증가에 따른 비용 증가폭이 크며, 일반적으로 비용 부담이 큼 | 
| 운영 비용 | 대수가 늘어날수록 관리 편의성이 떨어지며, 서버의 상면 비용을 포함한 운영 비용이 증가함 | 관리 편의성이나 운영 비용은 스케일 업에 따라 큰 변화 없음 | 
| 장애 | 읽기/쓰기가 여러대의 서버에 분산되어 처리됨으로 장애 시 전면 장애의 가능성이 적음 | 한대의 서버에 부하가 집중되므로 장애 시 장애 영향도가 큼 | 
| 주요 기술| (App 관점) Sharding, Query-off Loading, Queue, In Memory Cache, NoSQL, Object Storage, Distributed Storage | 고성능 CPU, Memory 확장, SSD |
| 주요 용도 | 서버가 동일한 데이터를 가지고 있어야 하므로 데이터 변화가 적은 웹서버 (분산처리 시스템/Global 웹 어플리케이션) |  한 대의 서버에서 모든 데이터를 처리하므로 데이터 갱신이 빈번하게 일어나는 데이터베이스 (고성능 Legacy 어플리케이션) |
| 장점 | 점진적 증가 가능, 보통 스케일 업보다 저렴 | 구축이 쉽고 관리 용이 |
| 단점 | 설계/구축/관리 비용 증가 | 단계적 증가가 어렵고, 근본적인 해결이 안될 수 있음, 관리가 어려워짐 |



----
해당 내용은 다음 글을 참고 하였습니다.
- http://library.gabia.com/contents/infrahosting/1222
- https://m.blog.naver.com/PostView.nhn?blogId=islove8587&logNo=220548900044&proxyReferer=https%3A%2F%2Fwww.google.com%2F