---
layout: post
title: 서버리스(Serverless) 아키텍처
categories: Programming
---

서버리스는 "서버가 없다." 라는 뜻입니다. 사실상 서버가 없는 것은 아니고 특정 작업을 수행하기 위해서 컴퓨터 혹은 가상머신에 서버를 설정하고 이를 통해 처리하는 것이 아님을 의미합니다. 즉 하드웨어나 네트워크, 운영체제 등의 인프라를 담당하는 서버가 없다는 뜻이며 따라서 관리가 그만큼 줄어 든다는 장점이 있습니다. 서버가 없기 때문에 대신 BaaS(Backend as a Service)와 FaaS(Function as a Service)에 의존하여 작업을 처리하게 됩니다. 개발시에 서버를 통해 애플리케이션 환경을 구축하는 것이 아닌 BaaS와 FaaS에 의존하여 구성됩니다. 가상화 환경을 제공해 주는 IaaS(Infrastructure as a Service)와는 햇갈리지 말 것! 참고로 서버리스 아키텍쳐는 MSA(Micro Service Architecture)를 따르고 있습니다. 


## Baas
개발에 있어 필요한 다양한 기능들 (DB, SNS 연동 등)을 API로 제공해 줌으로써 쉽고 빠르게 구현 가능한 서비스입니다. 사용한 만큼 비용을 지불하며, 서버의 사용자가 순식간에 늘어나는 경우도 자동 확장되는 장점이 있습니다. 사용자가 늘어날시 서버의 확장이나 보안등의 기능을 API로 제공해 줌으로서, 개발자들이 서버 개발을 하지 않고서도 필요한 기능을 쉽고 빠르게 구현 할 수 있습니다.

- 장점: 개발 공수가 적다. 자원 설정이 필요없다.
- 단점: 클라이언트 위주의 코드, 복잡한 기능설계 불가능. 자원 유료모드로 들어가면 금액 헬(Hell)
- 대표적인 서비스: Firebase, Parse(지금은 서비스 종료됨), Kinvey

* 파이어베이스(Firebase)는 2011년 파이어베이스(Firebase, Inc)사가 개발하고 2014년 구글에 인수된 모바일 및 웹 애플리케이션 개발 플랫폼이다.

## FaaS
프로젝트를 여러개의 함수로 쪼개서 함수를 등록하여 사용하는 서비스입니다. 함수들이 실행되는 횟수와 실행 시간만큼 비용을 지불합니다. 서버 시스템에 대해 신경쓰지 않는 다는 점이 Paas와 유사할 수 있으나, Paas의 경우 애플리케이션 배포 후 애플리케이션이 서버에서 24시간동안 계속 돌아가고 있다는 것이므로, FaaS는 애플리케이션이 아닌 함수를 배포해 특정 이벤트가 발생 했을 때 실행되며 실행된 후 작업이 끝나면 종료한다는 차이점이 있습니다. 

- 장점: 개발 공수가 적지만 BaaS 만큼은 아니다. 인프라를 관리할 필요가 없다. 확장성이 좋다.
- 단점: WebSocket은 불가능, FaaS 제공사에 강한 의존, 함수들은 무상태적(stateless)으로 로컬스토리지에서 데이터를 읽을 수 없다.
- 대표적인 서비스: AWS Lambd, Azure Functions, Google Cloud functions

## 용어정리
서버리스와 관련하서 햇갈리는 용어들을 정리 해 봅니다.

- 서버리스: 서버리스는 Baas, Faas 두 컨셉을 통틀어 말하며 AWS Lambda, Functions 같은 서비스들을 지칭하는 말이기도 함
- 서버리스 플랫폼: 실제로 이용할 수 있는 서버리스 서비스로 예를 들면 AWS Lambd가 있음
- 서버리스 아키텍쳐: 서버리스 서비스를 근간으로 하는 서버 아키텍쳐
- 서버리스 패턴: 서버리스 서비스를 베이스로 하는 아키텍쳐(서버리스 아키텍쳐)에서 base practice같은 정형화된 구조
- 마이크로 서비스: 서비스는 서비스 지향 아키텍쳐(SOA: Service Oriented Architecture) 도메인을 기능 별로 분리한 단위보다 더 작은 최소 단위. 기능단위 일수도 있고 최소 함수 및 로직 단위 등의 하나의 작은 서버
- 마이크로 서비스 아키텍쳐: 마이크로 서비스 아키텍쳐는 대용량 웹서비스가 많아짐에 따라 정의된 아키텍쳐. 근간은 마이크로 서비스는 서비스 지향 아키텍쳐(SOA: Service Oriented Architecture)이다. 마이크로 서비스를 베이스로 하는 서버 아키텍쳐.

## 정리
서버리스컴퓨팅을 사용하면 서버를 고려하지 않고 애플리케이션과 서비스를 구축하고 실행할 수 있습니다. 서버리스 애플리케이션에서는 사용자가 서버를 프로비저닝, 확장 및 관리를 할 필요가 없습니다. 거의 모드 유형의 애플리케이션 또는 백앤드 서비스를 서버리스로 구축가능하며 애플리케이션을 고가용성으로 실행하고 확장하는데 필요한 모든것이 자동으로 처리됩니다. 

서버리스 컴퓨팅(serverless computing)은 클라우드 컴퓨팅 실행 모델의 하나로, 클라우드 제공자는 동적으로 머신 자원의 할당을 관리합니다. 가격은 미리 구매한 용적 단위가 아닌 애플리케이션이 소비한 자원의 실제 양에 기반을 둡니다. 유틸리티 컴퓨팅의 일종입니다.


----
해당 내용은 다음 글을 참고 하였습니다.
- http://blog.drakejin.me/Serverless-2/
- https://hojak99.tistory.com/450
- https://velopert.com/3543
- http://blog.drakejin.me/Serverless-1/